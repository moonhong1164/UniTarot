<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UniTarot Â· ë„ê°</title>
  <style>
    :root{
      --bg1:#fff7f1; --bg2:#f3f7ff;
      --text:#2b2430; --muted:#6e6476;
      --accent:#ff8bab; --accent2:#7aa2ff;
      --shadow: 0 18px 50px rgba(48,24,54,.10);
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--text);
      font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans KR",sans-serif;
      background:
        radial-gradient(900px 700px at 20% 0%, rgba(255,143,171,.22), transparent 55%),
        radial-gradient(900px 700px at 90% 10%, rgba(122,162,255,.16), transparent 55%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      min-height:100vh;
    }
    header{
      position:sticky; top:0; z-index:10;
      background:rgba(255,255,255,.78);
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(0,0,0,.06);
      padding:14px 16px;
    }
    .bar{max-width:1100px; margin:0 auto; display:flex; gap:12px; align-items:center;}
    .dot{width:12px;height:12px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));}
    h1{margin:0;font-size:18px}
    .sub{margin:2px 0 0; font-size:12px; color:var(--muted)}
    .grow{flex:1}
    .controls{max-width:1100px; margin:10px auto 0; padding:0 16px; display:flex; gap:10px; flex-wrap:wrap; align-items:end;}
    .field{display:flex; flex-direction:column; gap:6px}
    label{font-size:12px;color:var(--muted)}
    input{height:38px; padding:0 12px; border-radius:12px; border:1px solid rgba(0,0,0,.10); background:rgba(255,255,255,.9); outline:none;}
    input:focus{border-color:rgba(255,139,171,.55); box-shadow:0 0 0 3px rgba(255,139,171,.18);}
    .btn{
      height:38px; padding:0 14px; border-radius:12px;
      border:1px solid rgba(0,0,0,.10);
      background:linear-gradient(135deg, rgba(255,143,171,.92), rgba(122,162,255,.55));
      color:#231b2a; font-weight:800; cursor:pointer;
      box-shadow: var(--shadow);
    }
    .btn.ghost{background:rgba(255,255,255,.85); font-weight:700; box-shadow:none}
    .wrap{max-width:1100px; margin:0 auto; padding:14px 16px 36px;}
    .status{margin:12px 0; padding:10px 12px; border-radius:14px; background:rgba(255,255,255,.72); border:1px solid rgba(0,0,0,.06); color:var(--muted);}
    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fill, minmax(132px, 1fr));
      gap:12px;
      align-items:start;
    }
    .gCard{
      border:1px solid rgba(0,0,0,.08);
      background:rgba(255,255,255,.80);
      border-radius:16px;
      padding:10px;
      box-shadow:0 10px 30px rgba(48,24,54,.08);
      cursor:pointer;
      transition: transform .08s ease;
    }
    .gCard:active{transform:translateY(1px)}
    .frame{
      width:100%;
      aspect-ratio: 2/3;
      border-radius:14px;
      border:1px solid rgba(0,0,0,.10);
      background:linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.70));
      overflow:hidden;
      display:flex; align-items:center; justify-content:center;
    }
    .frame img{width:100%; height:100%; object-fit:cover; display:block;}
    .title{margin-top:8px; font-size:12px; color:rgba(43,36,48,.92); font-weight:700; text-align:center;}
    .modalBack{position:fixed; inset:0; display:none; place-items:center; background:rgba(20,20,30,.45); padding:18px; z-index:99;}
    .modal{width:min(920px, 100%); background:rgba(255,255,255,.92); border:1px solid rgba(0,0,0,.10);
      border-radius:22px; box-shadow:0 25px 80px rgba(0,0,0,.25); overflow:hidden;}
    .mHead{display:flex; align-items:center; gap:10px; padding:12px 14px; border-bottom:1px solid rgba(0,0,0,.08);}
    .mTitle{flex:1; font-weight:900}
    .x{width:36px;height:36px;border-radius:12px;border:1px solid rgba(0,0,0,.10); background:rgba(255,255,255,.85); cursor:pointer;}
    .mBody{display:grid; grid-template-columns: 1fr; gap:12px; padding:14px;}
    .bigFrame{width:100%; max-width:420px; margin:0 auto; border-radius:18px; overflow:hidden; border:1px solid rgba(0,0,0,.10);}
    .bigFrame img{width:100%; height:auto; display:block;}
    .hint{font-size:12px; color:var(--muted); text-align:center}
    @media (min-width:820px){ .mBody{grid-template-columns: 420px 1fr; align-items:start;} .hint{text-align:left} }
  </style>
</head>
<body>
<header>
  <div class="bar">
    <div class="dot"></div>
    <div>
      <h1>ğŸ“– ì¹´ë“œ ë„ê°</h1>
      <div class="sub">ë„ê°ë§Œ ì•ˆì •ì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ìµœì†Œ ë²„ì „ (í´ë¦­í•˜ë©´ í° ì´ë¯¸ì§€)</div>
    </div>
    <div class="grow"></div>
    <button class="btn ghost" id="forceReload" type="button">ê°•ë ¥ ìƒˆë¡œê³ ì¹¨ ì•ˆë‚´</button>
  </div>
  <div class="controls">
    <div class="field">
      <label>ì´ë¯¸ì§€ í´ë” ê²½ë¡œ(ì„ íƒ)</label>
      <input id="base" placeholder='ì˜ˆ: images/  (ë£¨íŠ¸ë©´ ë¹„ì›Œë‘ê¸°)' />
    </div>
    <div class="field">
      <label>ê²€ìƒ‰</label>
      <input id="q" placeholder="ì˜ˆ: ë°”ë³´, íœíƒ€í´, ì†Œë“œ10â€¦" />
    </div>
    <button class="btn" id="apply" type="button">ë„ê° ë¶ˆëŸ¬ì˜¤ê¸°</button>
  </div>
</header>

<div class="wrap">
  <div class="status" id="status">ë¡œë”© ì¤‘â€¦</div>
  <div class="grid" id="grid"></div>
</div>

<div class="modalBack" id="modalBack">
  <div class="modal">
    <div class="mHead">
      <div class="mTitle" id="mTitle">ì¹´ë“œ</div>
      <button class="x" id="close" type="button">âœ•</button>
    </div>
    <div class="mBody">
      <div class="bigFrame"><img id="mImg" alt=""></div>
      <div class="hint">
        <div style="font-weight:900;margin-bottom:6px">ì‚¬ìš© ë°©ë²•</div>
        <div>- ì´ë¯¸ì§€ê°€ ì•ˆ ëœ¨ë©´ ìƒë‹¨ â€œì´ë¯¸ì§€ í´ë” ê²½ë¡œâ€ì— ì‹¤ì œ í´ë”ëª…ì„ ë„£ê³  <b>ë„ê° ë¶ˆëŸ¬ì˜¤ê¸°</b>ë¥¼ ëˆŒëŸ¬ì¤˜.</div>
        <div style="margin-top:6px">- ì˜ˆ) ë ˆí¬ì— <b>images/</b> í´ë” ì•ˆì— ì´ë¯¸ì§€ë¥¼ ë„£ì—ˆë‹¤ë©´ â†’ <b>images/</b> ì…ë ¥</div>
      </div>
    </div>
  </div>
</div>

<script>
const FILES = ["0. ë°”ë³´ ì¹´ë“œ.jpg", "1. ë§ˆë²•ì‚¬ ì¹´ë“œ.jpg", "2. ì—¬ì‚¬ì œ ì¹´ë“œ.jpg", "3. ì—¬í™©ì œ ì¹´ë“œ.jpg", "4. í™©ì œ ì¹´ë“œ.jpg", "5. êµí™© ì¹´ë“œ.jpg", "6. ì—°ì¸ ì¹´ë“œ.jpg", "7. ì „ì°¨ ì¹´ë“œ.jpg", "8. í˜ ì¹´ë“œ.jpg", "9. ì€ë‘”ì ì¹´ë“œ.jpg", "10. ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´.jpg", "11. ì •ì˜ ì¹´ë“œ.jpg", "12. í–‰ë§¨ ì¹´ë“œ.jpg", "13. ì£½ìŒ ì¹´ë“œ.jpg", "14. ì ˆì œ ì¹´ë“œ.jpg", "15. ì•…ë§ˆ ì¹´ë“œ.jpg", "16. íƒ€ì›Œ ì¹´ë“œ.jpg", "17. ë³„ ì¹´ë“œ.jpg", "18. ë‹¬ ì¹´ë“œ.jpg", "19. íƒœì–‘ ì¹´ë“œ.jpg", "20. ì‹¬íŒ ì¹´ë“œ.jpg", "21. ì„¸ê³„ ì¹´ë“œ.jpg", "ì™„ë“œ ì—ì´ìŠ¤.jpg", "ì™„ë“œ2.jpg", "ì™„ë“œ3.jpg", "ì™„ë“œ4.jpg", "ì™„ë“œ5.jpg", "ì™„ë“œ6.jpg", "ì™„ë“œ7.jpg", "ì™„ë“œ8.jpg", "ì™„ë“œ9.jpg", "ì™„ë“œ10.jpg", "ì™„ë“œ í˜ì´ì§€.jpg", "ì™„ë“œ ë‚˜ì´íŠ¸.jpg", "ì™„ë“œ í€¸.jpg", "ì™„ë“œ í‚¹.jpg", "ì»µ ì—ì´ìŠ¤.jpg", "ì»µ2.jpg", "ì»µ3.jpg", "ì»µ4.jpg", "ì»µ5.jpg", "ì»µ6.jpg", "ì»µ7.jpg", "ì»µ8.jpg", "ì»µ9.jpg", "ì»µ10.jpg", "ì»µ í˜ì´ì§€.jpg", "ì»µ ë‚˜ì´íŠ¸.jpg", "ì»µ í€¸.jpg", "ì»µ í‚¹.jpg", "ì†Œë“œ ì—ì´ìŠ¤.jpg", "ì†Œë“œ2.jpg", "ì†Œë“œ3.jpg", "ì†Œë“œ4.jpg", "ì†Œë“œ5.jpg", "ì†Œë“œ6.jpg", "ì†Œë“œ7.jpg", "ì†Œë“œ8.jpg", "ì†Œë“œ9.jpg", "ì†Œë“œ10.jpg", "ì†Œë“œ í˜ì´ì§€.jpg", "ì†Œë“œ ë‚˜ì´íŠ¸.jpg", "ì†Œë“œ í€¸.jpg", "ì†Œë“œ í‚¹.jpg", "íœíƒ€í´ ì—ì´ìŠ¤.jpg", "íœíƒ€í´2.jpg", "íœíƒ€í´3.jpg", "íœíƒ€í´4.jpg", "íœíƒ€í´5.jpg", "íœíƒ€í´6.jpg", "íœíƒ€í´7.jpg", "íœíƒ€í´8.jpg", "íœíƒ€í´9.jpg", "íœíƒ€í´10.jpg", "íœíƒ€í´ í˜ì´ì§€.jpg", "íœíƒ€í´ ë‚˜ì´íŠ¸.jpg", "íœíƒ€í´ í€¸.jpg", "íœíƒ€í´ í‚¹.jpg"];

const $ = (s)=>document.querySelector(s);
const esc = (s)=>String(s).replace(/[&<>"']/g, m=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[m]));
const titleFromFile = (fn)=>fn.replace(/\.(png|jpg|jpeg|webp)$/i,"");

function buildList(base){
  const b = (base||"").trim();
  let prefix = b;
  if(prefix && !prefix.endsWith("/")) prefix += "/";
  return FILES.map(fn=>({fn, title:titleFromFile(fn), src: prefix + fn }));
}

function render(){
  const base = $("#base").value || "";
  const q = ($("#q").value||"").trim().toLowerCase();
  const list = buildList(base).filter(x=>!q || x.title.toLowerCase().includes(q));
  $("#status").textContent = `ì¹´ë“œ 78ì¥ Â· í‘œì‹œ ${list.length}ì¥`;
  $("#grid").innerHTML = list.map(x=>`
    <button class="gCard" type="button" data-title="${esc(x.title)}" data-src="${esc(x.src)}">
      <div class="frame"><img loading="lazy" src="${esc(x.src)}" alt="${esc(x.title)}"></div>
      <div class="title">${esc(x.title)}</div>
    </button>
  `).join("");
}

function openModal(title, src){
  $("#mTitle").textContent = title;
  const img=$("#mImg");
  img.src = src;
  img.alt = title;
  $("#modalBack").style.display="grid";
}
function closeModal(){ $("#modalBack").style.display="none"; }

document.addEventListener("click",(e)=>{
  const btn = e.target.closest(".gCard");
  if(btn) openModal(btn.dataset.title, btn.dataset.src);
});
$("#close").addEventListener("click", closeModal);
$("#modalBack").addEventListener("click",(e)=>{ if(e.target.id==="modalBack") closeModal(); });
window.addEventListener("keydown",(e)=>{ if(e.key==="Escape") closeModal(); });

$("#apply").addEventListener("click", render);
$("#q").addEventListener("input", render);
$("#forceReload").addEventListener("click", ()=>{
  alert("GitHub PagesëŠ” ìºì‹œê°€ ì„¸ì„œ ë°”ë€ ê²Œ ì•ˆ ë³´ì¼ ìˆ˜ ìˆì–´ìš”.\n\n1) Ctrl + Shift + R (ê°•ë ¥ ìƒˆë¡œê³ ì¹¨)\n2) ë˜ëŠ” ì‹œí¬ë¦¿ ì°½ì—ì„œ ë‹¤ì‹œ ì ‘ì†\n3) ì£¼ì†Œ ëì— ?v=1 ê°™ì€ ì¿¼ë¦¬ ë¶™ì´ê¸°\n   ì˜ˆ: .../UniTarot/?v=1");
});

window.addEventListener("DOMContentLoaded", render);
</script>
</body>
</html>
