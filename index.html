<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>UniTarot</title>
<style>
:root{
  --bg:#f7f5f1; --panel:#ffffff; --ink:#222; --muted:#666;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,'Noto Sans KR',sans-serif;background:var(--bg);color:var(--ink)}
header{padding:16px;text-align:center;font-weight:800}
main{max-width:1100px;margin:0 auto;padding:12px 16px 40px}
#gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:12px}
.card img{width:100%;border-radius:10px;cursor:pointer}
#modal{position:fixed;inset:0;background:rgba(0,0,0,.4);display:none;align-items:center;justify-content:center}
#modal.on{display:flex}
#modal .box{background:#fff;border-radius:14px;max-width:720px;width:90%;max-height:85vh;overflow:auto;padding:16px}
.sectionTitle{font-weight:800;margin-top:14px}
p{margin:6px 0}
.close{float:right;font-size:22px;cursor:pointer}
</style>
</head>
<body>
<header>ğŸ”® UniTarot</header>
<main>
  <div id="gallery"></div>
</main>

<div id="modal">
  <div class="box">
    <span class="close" onclick="closeModal()">Ã—</span>
    <div id="modalBody"></div>
  </div>
</div>

<script>
const CARDS = [
  "0. ë°”ë³´ ì¹´ë“œ.jpg","1. ë§ˆë²•ì‚¬ ì¹´ë“œ.jpg","2. ì—¬ì‚¬ì œ ì¹´ë“œ.jpg","3. ì—¬í™©ì œ ì¹´ë“œ.jpg",
  "4. í™©ì œ ì¹´ë“œ.jpg","5. êµí™© ì¹´ë“œ.jpg","6. ì—°ì¸ ì¹´ë“œ.jpg"
];

// ì˜ˆì‹œ í•´ì„ (êµ¬ì¡° í™•ì¸ìš©)
const INTERPRETATIONS = {
  "3. ì—¬í™©ì œ ì¹´ë“œ.jpg": `
ê±´ê°•ìš´
ì‚°ë¶€ì¸ê³¼ ì§ˆí™˜, ì„ì‹ , í˜¸ë¥´ëª¬, í”¼ë¶€

ì¥ì†Œ
ì—ìŠ¤í…Œí‹±, ë¯¸ìš©ì‹¤, ìì—°, ì§‘

ìˆ˜ë¹„í•™ì  ì˜ë¯¸
ìˆ˜ë¹„í•™ì  ì˜ë¯¸ì˜ 3ë²ˆ ì¹´ë“œ
3ì€ ì™„ì„±ê³¼ í’ìš”ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
`
};

function parseCategories(text){
  const order = ["ì• ì •ìš´","ê´€ê³„ìš´","ê¸ˆì „ìš´","ê±´ê°•ìš´","ì¥ì†Œ","ìˆ˜ë¹„í•™ì  ì˜ë¯¸"];
  const buckets = {};
  order.forEach(k=>buckets[k]=[]);
  let current = null;

  text.split(/\n+/).map(t=>t.trim()).filter(Boolean).forEach(line=>{
    if(order.includes(line)){
      current = line;
      return;
    }
    if(current){
      // ìˆ˜ë¹„í•™ ì¤‘ë³µ ì œëª© ì œê±°
      if(current==="ìˆ˜ë¹„í•™ì  ì˜ë¯¸" && line.includes("ìˆ˜ë¹„í•™ì  ì˜ë¯¸ì˜")) return;
      buckets[current].push(line);
    }
  });
  return buckets;
}

function openCard(file){
  const raw = INTERPRETATIONS[file];
  if(!raw){
    document.getElementById('modalBody').innerHTML = "<p>í•´ì„ì´ ì¤€ë¹„ë˜ì§€ ì•Šì€ ì¹´ë“œì…ë‹ˆë‹¤.</p>";
    openModal(); return;
  }
  const data = parseCategories(raw);
  let html = "";
  for(const [k,v] of Object.entries(data)){
    if(v.length){
      const emoji = k==="ê±´ê°•ìš´"?"ğŸ©º":k==="ì¥ì†Œ"?"ğŸ":k==="ìˆ˜ë¹„í•™ì  ì˜ë¯¸"?"ğŸ”¢":"";
      html += `<div class="sectionTitle">${emoji} ${k}</div>`;
      v.forEach(t=> html += `<p>${t}</p>`);
    }
  }
  document.getElementById('modalBody').innerHTML = html;
  openModal();
}

function openModal(){ document.getElementById('modal').classList.add('on'); }
function closeModal(){ document.getElementById('modal').classList.remove('on'); }

const g = document.getElementById('gallery');
CARDS.forEach(c=>{
  const d = document.createElement('div');
  d.className = "card";
  d.innerHTML = `<img src="${c}" />`;
  d.onclick = ()=>openCard(c);
  g.appendChild(d);
});
</script>
</body>
</html>
